%nav.navbar.navbar-default
  .col-md-3.col-md-offset-4
    .text-center
      = link_to("The Muse Job Search", root_path, class: "navbar-text pull-right")

.row
  .container
    .col-md-3
      Level:
      = select_tag(:level_select, options_for_select(MuseJobPresenter::LEVEL.values, selected: params[:level]), prompt: "Sort by Level")
    .col-md-4
      Location:
      = select_tag(:location_select, options_for_select(MuseJobPresenter::LOCATIONS.values, selected: params[:location]), prompt: "Popular Locations")
    .col-md-4
      Catergory:
      = select_tag(:catergory_select, options_for_select(MuseJobPresenter::CATERGORIES.values, selected: params[:category]), prompt: "Popular Catergories")
    .col-md-1
      = link_to "Clear", root_path, class: "btn btn-danger btn-xs pull-right"

%br

.nav
  .row
    .col-md-4.col-md-offset-4
      %ul.pager
        .col-md-6
          - if @presenter.previous?
            %li.previous
              %button.btn.btn-primary#previous{ value: @presenter.previous_page } Previous
        .col-md-6
          - if @presenter.next?
            %li.next
              %button.btn.btn-primary#next{ value: @presenter.next_page } Next

.container
  - @jobs.each do |job|
    .panel.panel-default
      .panel-heading
        = job.name
      .panel-body
        .row
          .col-md-3
            .strong Employer: #{job.company_name}
          .col-md-5
            .strong Location: #{job.location_name}
          .col-md-3
            .strong #{job.date_published}
          .col-md-1
            = link_to "View Job", job.muse_url, class: "btn btn-primary btn-sm pull-right"
        .row
          - job.all_categories.each do |category|
            .col-md-2
              .label.label-info= category



- content_for :end_of_body do
  :javascript
    $('#level_select').change(function () {
      var level = $('#level_select option:selected').val();
      updateFilters('level', level);
    });

    $('#location_select').change(function () {
      var location = $('#location_select option:selected').val();
      updateFilters('location', location);
    });

    $('#catergory_select').change(function () {
      var catergory = $('#catergory_select option:selected').val().trim();
      updateFilters('catergory', catergory);
    });

    $('#next').click(function () {
      var page = $('#next').val();
      updateFilters('page', page);
    });

    $('#previous').click(function () {
      var page = $('#previous').val();
      updateFilters('page', page);
    });
